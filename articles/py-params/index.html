<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><title>A little mess with function parameters in Python :: Vorakl's notes</title><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=robots content=all><link href=https://vorakl.com/articles/py-params/ rel=canonical><meta name=description content="A variety of ways to define function parameters"><link rel=stylesheet href="https://vorakl.com/theme/bootstrap-pygments.bundle.min.css?v=1708879086"><link rel=alternate type=application/atom+xml href=https://vorakl.com/atom.xml title="Vorakl's notes"><meta name=theme-color content=#205081><link rel="shortcut icon" href="/favicon.ico?v=1708879086"><link rel=apple-touch-icon sizes=180x180 href="/favicon/apple-touch-icon.png?v=1708879086"><link rel=icon type=image/png sizes=32x32 href="/favicon/favicon-32x32.png?v=1708879086"><link rel=icon type=image/png sizes=16x16 href="/favicon/favicon-16x16.png?v=1708879086"><link rel=manifest href="/favicon/manifest.json?v=1708879086"><meta name=apple-mobile-web-app-title content="Vorakl's notes"><meta name=application-name content="Vorakl's notes"></head> <body> <div class=navbar> <div class=navbar-inner> <div class=container> <a href=https://vorakl.com/ class=brand>Vorakl's notes</a> <div class=nav-collapse> <ul class="nav pull-right"> <!-- <li class="divider-vertical"></li> --> <li><a href=https://vorakl.com/pages/reading/ >Reading</a></li> <li><a href=https://vorakl.com/pages/projects/ >Projects</a></li> <li><a href=https://vorakl.com/pages/contacts/ >Contacts</a></li> <li><a href=https://vorakl.com/pages/about/ >About</a></li> <!-- <li class="divider-vertical"></li> --> </ul> </div> </div> </div> </div> <div class=container> <div class=content> <div class=row> <div class=span12> <div class=article> <div class=content-title> <h2>A little mess with function parameters in Python</h2> <div class="well small">on 2024-02-17 in <a href=https://vorakl.com/categories/tutorial/ >tutorial</a> about <a href=https://vorakl.com/tags/python/ >python</a> <a href=https://vorakl.com/tags/programming/ >programming</a> ~8 min read </div> <p><h3>A variety of ways to define function parameters</h3></p> </div> <div class=content><p><a class="reference internal" href=#summary>TLDR: quick summary of the article</a></p> <div class=line-block> <div class=line><br></div> </div> <p>At first glance, Python functions look like those in most other languages, and they behave just as you'd expect. They take arguments, have default values, and can also return a value. This is intentional, of course. But once you dive deeper, you'll see how many specific nuances are hidden internally, providing a programmer with a number of features that make using functions in Python a much more powerful experience. Knowing the differences is critical to understanding why they behave the way they do, so you can get the most out of them.</p> <div class=line-block> <div class=line><br></div> </div> <p>One of the key feature is that functions in Python are objects that are created as soon as they are defined. This allows you to use functions as arguments in other functions or as return values, just like any other Python object. Functions lifetime is different from the execution time, and they exist even after execution has finished. Functions, being objects, also have a set of predefined attributes that can be extended at any time, and their state is maintained outside of the execution. Parameters become local variables, which are completely different entities from function attributes, which exist only at execution time. Default values in the function definition can also be expressions, but they are evaluated only once. Function arguments are always passed by value, but the values they contain are references. This is why they're sometimes called pass-by-object-references. This also means that parameters, like any other variable in Python, are untyped, and contain a copy of a reference to an object. Changing a parameter (a local variable) generally doesn't change an object (passed as an argument) itself, but only stores a reference to another object. However, there is still a way to change an object that is passed as an argument, if it is a mutable object and the change is made directly to it rather than to a variable. For example, updating elements of a list or a dictionary.</p> <div class=line-block> <div class=line><br></div> </div> <p>This tutorial will focus only on parameters, their different types, and various ways to define them. Let's start with the most common: a function definition with 4 parameters (a, b, c, d). No types, just names, with a lifetime during function execution, i.e. they are created on the stack as local variables only during function execution. When the function is called, it gets 4 arguments (w, x, y, z), which are also local variables (live on a stack), but in the calling environment, and contain references to some objects. Python takes these references stored in the arguments (w, x, y, z) and copies them into parameters (a, b, c, d) that live as local variables on a stack in the called environment:</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>):</span>
    <span class=k>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span>

<span class=k>def</span> <span class=nf>caller</span><span class=p>():</span>
    <span class=n>w</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span> <span class=o>=</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>40</span>
    <span class=n>myfunc</span><span class=p>(</span><span class=n>w</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span><span class=p>)</span>          <span class=c1># 10 20 30 40</span>

<span class=n>caller</span><span class=p>()</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p>When you call <em>myfunc</em> this way, references to objects stored in arguments are copied as values to parameters according to their position, e.g. the value of <em>w</em> is copied to <em>a</em>, the value of <em>x</em> is copied to <em>b</em>, and so on. This is why such parameters are also called <strong>positional parameters</strong> - their position defines the value they get. However, you can assign values to parameters in any order by using <strong>keyword arguments</strong>, i.e. parameter_name=argument:</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>):</span>
    <span class=k>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span>

<span class=k>def</span> <span class=nf>caller</span><span class=p>():</span>
    <span class=n>w</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span> <span class=o>=</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>40</span>
    <span class=n>myfunc</span><span class=p>(</span><span class=n>a</span><span class=o>=</span><span class=n>z</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=n>y</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=n>x</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=n>w</span><span class=p>)</span>  <span class=c1># 40 30 20 10</span>

<span class=n>caller</span><span class=p>()</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p>Although, all 4 parameters must to be defined each time the function is called. This can be avoided by setting default values for the parameters in the function definition. Keyword pairs must always be defined after positional parameters:</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>2</span><span class=p>):</span>
    <span class=k>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span>

<span class=k>def</span> <span class=nf>caller</span><span class=p>():</span>
    <span class=n>w</span><span class=p>,</span> <span class=n>x</span><span class=p>,</span> <span class=n>y</span><span class=p>,</span> <span class=n>z</span> <span class=o>=</span> <span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>30</span><span class=p>,</span> <span class=mi>40</span>
    <span class=n>myfunc</span><span class=p>(</span><span class=n>w</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=n>x</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=n>y</span><span class=p>)</span>         <span class=c1># 10 30 20 2</span>
    <span class=n>myfunc</span><span class=p>(</span><span class=n>w</span><span class=p>,</span> <span class=n>z</span><span class=p>,</span> <span class=n>y</span><span class=p>)</span>             <span class=c1># 10 40 30 2</span>

<span class=n>caller</span><span class=p>()</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p>Default values of parameters are stored in the <strong>__defaults__</strong> object attribute. Python allows you to do neat tricks, because this attribute is mutable, and you can assign default values directly to the attribute. This is even possible for the parameters that don't have default values in the function definition and normally need to be set on the function call:</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>2</span><span class=p>):</span>
    <span class=k>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span>

<span class=k>print</span><span class=p>(</span><span class=n>myfunc</span><span class=o>.</span><span class=vm>__defaults__</span><span class=p>)</span>      <span class=c1># (2,)</span>

<span class=n>myfunc</span><span class=o>.</span><span class=vm>__defaults__</span> <span class=o>=</span> <span class=p>(</span><span class=mi>100</span><span class=p>,</span> <span class=mi>200</span><span class=p>,</span> <span class=mi>300</span><span class=p>,</span> <span class=mi>400</span><span class=p>)</span>
<span class=k>print</span><span class=p>(</span><span class=n>myfunc</span><span class=o>.</span><span class=vm>__defaults__</span><span class=p>)</span>      <span class=c1># (100, 200, 300, 400)</span>

<span class=c1># note that arguments are not passed at all!</span>
<span class=n>myfunc</span><span class=p>()</span>                        <span class=c1># 100 200 300 400</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p>Default values can also be expressions, but are evaluated only once. For example, if a list is assigned as a default value, its object is created and its reference is assigned each time a default value is used. This may not be the behavior you expect, since a mutated list on a previous function call will still be passed as the default parameter value on the next call:</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=p>[]):</span>
    <span class=n>d</span><span class=o>.</span><span class=n>extend</span><span class=p>((</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>))</span>
    <span class=k>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span>

<span class=n>myfunc</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>                 <span class=c1># 1 2 3 [1, 2, 3]</span>
<span class=n>myfunc</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>30</span><span class=p>)</span>              <span class=c1># 10 20 30 [1, 2, 3, 10, 20, 30]</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p>A possible workaround for having an empty list as the default value is to use <em>None</em> instead. This is a singleton, there is always only one instance. Check a parameter for equivalence to None in the code and assign an empty list during a function execution:</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=bp>None</span><span class=p>):</span>
    <span class=k>if</span> <span class=n>d</span> <span class=ow>is</span> <span class=bp>None</span><span class=p>:</span>
        <span class=n>d</span> <span class=o>=</span> <span class=p>[]</span>
    <span class=n>d</span><span class=o>.</span><span class=n>extend</span><span class=p>((</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>))</span>
    <span class=k>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span>

<span class=n>myfunc</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>                 <span class=c1># 1 2 3 [1, 2, 3]</span>
<span class=n>myfunc</span><span class=p>(</span><span class=mi>10</span><span class=p>,</span> <span class=mi>20</span><span class=p>,</span> <span class=mi>30</span><span class=p>)</span>              <span class=c1># 10 20 30 [10, 20, 30]</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p><em>Positional</em> and <em>keyword</em> parameters can easily coexist in a relatively free form, with the caveat that keyword parameters are always defined after positional parameters. In general, when calling a function, arguments can be passed in a variety of combinations of positional or keyword types, or omitted with a default value:</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>2</span><span class=p>):</span>
    <span class=k>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span>

<span class=n>myfunc</span><span class=p>(</span><span class=mi>3</span><span class=p>,</span><span class=n>b</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span><span class=n>c</span><span class=o>=</span><span class=mi>20</span><span class=p>)</span>             <span class=c1># 3 30 20 2</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p>However, there are ways to force some parameters to be strictly positional, and others to be keyword only. The first is made possible by another nice feature - a variable number of parameters. Python supports <em>packing</em> and <em>unpacking</em> of arguments during a function call, which can be used to pass an arbitrary number of positional and keyword parameters. It has a special syntax for both cases: positional arguments are packed into <em>tuples</em> if there is a parameter prefixed with an asterisk, e.g. <strong>*params</strong>, and keyword parameters are packed into <em>dictionaries</em> if there is a parameter prefixed with a double asterisk, e.g. <strong>**kwparams</strong>. Note that keyword parameters or a <cite>**kwparams</cite> parameter, if defined, should always follow any positional parameters or a <cite>*params</cite>, if it's defined:</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=o>*</span><span class=n>params</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=o>**</span><span class=n>kwparams</span><span class=p>):</span>
    <span class=k>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span>           <span class=c1># 1 2 20 30</span>
    <span class=k>print</span><span class=p>(</span><span class=n>params</span><span class=p>)</span>               <span class=c1># (3, 4)</span>
    <span class=k>print</span><span class=p>(</span><span class=n>kwparams</span><span class=p>)</span>             <span class=c1># {&#39;e&#39;: 50, &#39;f&#39;: 60}</span>

<span class=n>myfunc</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=mi>4</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>20</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span> <span class=n>e</span><span class=o>=</span><span class=mi>50</span><span class=p>,</span> <span class=n>f</span><span class=o>=</span><span class=mi>60</span><span class=p>)</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p>Also note that the <em>params</em> tuple and the <em>kwparams</em> dictionary are both used without asterisks in the code. It even works in the other way around. If you have a tuple or a dictionary with some values, you can easily pass them to a function that takes positional or keyword arguments. Just keep an eye on the number of elements:</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>4</span><span class=p>):</span>
    <span class=k>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span>

<span class=n>args</span> <span class=o>=</span> <span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>2</span><span class=p>,</span> <span class=mi>10</span><span class=p>)</span>
<span class=n>kwargs</span> <span class=o>=</span> <span class=p>{</span><span class=s1>&#39;b&#39;</span><span class=p>:</span> <span class=mi>20</span><span class=p>,</span> <span class=s1>&#39;c&#39;</span><span class=p>:</span> <span class=mi>30</span><span class=p>,</span> <span class=s1>&#39;d&#39;</span><span class=p>:</span> <span class=mi>40</span><span class=p>}</span>

<span class=n>myfunc</span><span class=p>(</span><span class=o>*</span><span class=n>args</span><span class=p>,</span> <span class=mi>40</span><span class=p>)</span>               <span class=c1># 1 2 10 40</span>
<span class=n>myfunc</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=o>**</span><span class=n>kwargs</span><span class=p>)</span>             <span class=c1># 1 20 30 40</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p>To define a unified function that can take any number of arguments of any type, it should have a definition that packs all types of parameters, e.g. <em>myfunc(*params, **kwparams)</em>. In addition, this syntax strictly separates keyword and positional parameters. If a function has any number of unaggregated keyword parameters after aggregating of positional parameters, then they are considered as <em>keyword-only parameters</em> with default values. The equivalent attribute with default values is called <strong>__kwdefaults__</strong>:</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=o>*</span><span class=n>params</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=o>**</span><span class=n>kwparams</span><span class=p>):</span>
    <span class=k>pass</span>

<span class=k>print</span><span class=p>(</span><span class=n>myfunc</span><span class=o>.</span><span class=vm>__defaults__</span><span class=p>)</span>      <span class=c1># None</span>
<span class=k>print</span><span class=p>(</span><span class=n>myfunc</span><span class=o>.</span><span class=n>__kwdefaults__</span><span class=p>)</span>    <span class=c1># {&#39;c&#39;: 1, &#39;d&#39;: 2}</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p>This syntax makes it possible to have a simpler function definition in case there is no need in an arbitrary number of parameters. Just put an asterisk between positional and keyword parameters:</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>2</span><span class=p>):</span>
    <span class=k>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span>

<span class=c1># this doesn&#39;t work anymore</span>
<span class=c1># myfunc(1, 3, 4, 5)</span>

<span class=n>myfunc</span><span class=p>(</span><span class=mi>1</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>          <span class=c1># 1 3 1 2</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p>Nevertheless, there is some room for improvisation. Positional arguments can still be passed as keywords:</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>20</span><span class=p>):</span>
    <span class=k>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span>

<span class=n>myfunc</span><span class=p>(</span><span class=n>b</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>a</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>      <span class=c1># 4 3 1 2</span>
<span class=n>myfunc</span><span class=p>(</span><span class=n>a</span><span class=o>=</span><span class=mi>4</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>           <span class=c1># 4 3 1 20</span>
<span class=n>myfunc</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>             <span class=c1># 4 3 10 2</span>
<span class=n>myfunc</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>)</span>                    <span class=c1># 4 3 10 20</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p>Fortunately, Python has the syntax to strictly separate positional-only parameters (which cannot be passed as a keyword) from positional parameters (which can either be passed by a value or a keyword). Both can have default values, by the way. Just put a slash between them:</p> <div class=highlight><pre><span></span><span class=k>def</span> <span class=nf>myfunc</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=o>/</span><span class=p>,</span>  <span class=n>b</span><span class=o>=</span><span class=mi>30</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>10</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>20</span><span class=p>):</span>
    <span class=k>print</span><span class=p>(</span><span class=n>a</span><span class=p>,</span> <span class=n>b</span><span class=p>,</span> <span class=n>c</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span>

<span class=c1># this doesn&#39;t work anymore</span>
<span class=c1># myfunc(a=1, b=2, c=4, d=3)</span>

<span class=n>myfunc</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=n>b</span><span class=o>=</span><span class=mi>3</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>        <span class=c1># 4 3 1 2</span>
<span class=n>myfunc</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=mi>3</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>2</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>          <span class=c1># 4 3 1 2</span>
<span class=n>myfunc</span><span class=p>(</span><span class=mi>4</span><span class=p>,</span> <span class=n>c</span><span class=o>=</span><span class=mi>1</span><span class=p>,</span> <span class=n>d</span><span class=o>=</span><span class=mi>2</span><span class=p>)</span>             <span class=c1># 4 30 1 2</span>
<span class=n>myfunc</span><span class=p>(</span><span class=mi>4</span><span class=p>)</span>                       <span class=c1># 4 30 10 20</span>

<span class=k>print</span><span class=p>(</span><span class=n>myfunc</span><span class=o>.</span><span class=vm>__defaults__</span><span class=p>)</span>      <span class=c1># (30,)</span>
<span class=k>print</span><span class=p>(</span><span class=n>myfunc</span><span class=o>.</span><span class=n>__kwdefaults__</span><span class=p>)</span>    <span class=c1># {&#39;c&#39;: 10, &#39;d&#39;: 20}</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p>As a good example, let's take a look at a prototype of the built-in <em>sorted</em> function:</p> <div class=highlight><pre><span></span><span class=nb>sorted</span><span class=p>(</span><span class=n>iterable</span><span class=p>,</span> <span class=o>/</span><span class=p>,</span> <span class=o>*</span><span class=p>,</span> <span class=n>key</span><span class=o>=</span><span class=bp>None</span><span class=p>,</span> <span class=n>reverse</span><span class=o>=</span><span class=bp>False</span><span class=p>)</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p>This means that the first argument should always be passed as a positional-only argument. You can't pass it as <cite>iterable=&lt;something&gt;</cite> keyword. However, all subsequent arguments should always be defined as keywords-only. This also means that the order of these arguments, as well as how many of them are passed, is not important.</p> <div class=line-block> <div class=line><br></div> </div> <p>Another good example is the <em>pop</em> method of the <em>list</em> class:</p> <div class=highlight><pre><span></span><span class=nb>list</span><span class=o>.</span><span class=n>pop</span><span class=p>(</span><span class=n>index</span><span class=o>=-</span><span class=mi>1</span><span class=p>,</span> <span class=o>/</span><span class=p>)</span>
</pre></div> <div class=line-block> <div class=line><br></div> </div> <p><em>index</em> is a positional-only parameter, but if omitted, -1 will be passed by default.</p> <div class=line-block> <div class=line><br></div> </div> <div class=section id=summary> <h2>Summary</h2> <ul class=simple> <li>Functions in Python are objects that are created when defined, allowing them to be used as arguments or return values like any other object.</li> <li>Parameters become local variables during function execution, while function attributes exist outside of execution.</li> <li>Arguments are passed by value, but parameters contain a copy of the reference. Changing a parameter doesn't change the original object, but changing a mutable object passed as an argument does.</li> <li>Parameters can be defined positionally or by keyword. Expressions as the default values are evaluated only once at definition.</li> <li>The <em>__defaults__</em> attribute stores default values of positional parameters and is mutable, allowing direct assignment.</li> <li>An asterisk followed by a name (<cite>*var</cite>) packs positional arguments into a tuple, while a double asterisk followed by a name (<cite>**kwvar</cite>) packs keyword arguments into a dictionary.</li> <li>Keyword arguments always follow positional arguments, with defaults filling in omitted values.</li> <li>A slash as a parameter, separates positional-only parameters that cannot be passed by keyword from other positional parameters.</li> <li>An asterisk as a parameter, separates positional parameters with default values from keyword-only parameters.</li> <li>The <em>__kwdefaults__</em> attribute stores default values of keyword-only parameters that defiend after the asterisk.</li> </ul> <!-- Links --> </div> </div> </div> <div class=article style="text-align: center; font-size: 1.1em; font-style: italic"> Found a <span style="color: red; font-weight: bold">bug</span> or <span style="color: red; font-weight: bold">typo</span>? Please, send me <a href=/pages/feedback/ >feedback</a> or submit a <a href=https://github.com/vorakl/vorakl.github.io/blob/master/src.docs/content/articles/py-params.rst>PR on Github</a>. </div> <div class=article> <div class="well small"><h5>This is my personal blog. All ideas, opinions, examples, and other information that can be found here are my own and belong entirely to me. This is the result of my personal efforts and activities at my free time. It doesn't relate to any professional work I've done and doesn't have correlations with any companies I worked for, I'm currently working, or will work in the future.</h5></div> </div> </div> </div> </div> <footer> <div class=container> <div class=row> <div class=span5> <span class=pull-left> &copy; 2024 <a href=https://vorakl.com/pages/about/ >vorakl</a> All Rights Reserved </span> </div> <div class=span7> <div class=pull-right> Powered by <a href=https://github.com/getpelican/pelican>Pelican</a> and <a href=https://github.com/vorakl/aves>Aves</a> theme </div> </div> </div> </div> </footer> </div> </body> </html>