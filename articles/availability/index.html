<!DOCTYPE html><html lang=en> <head><meta charset=utf-8><title>Availability calculation in &quot;nines&quot; notation - Vorakl's notes</title><meta name=viewport content="width=device-width, initial-scale=1.0"><meta name=robots content=all><link href=https://vorakl.com/articles/availability/ rel=canonical><meta name=description content="Estimating one of SRE's most common SLO"><link rel=stylesheet href="https://vorakl.com/theme/bootstrap-pygments.bundle.min.css?v=1747460791"><link rel=alternate type=application/atom+xml href=https://vorakl.com/atom.xml title="Vorakl's notes"><meta name=theme-color content=#205081><link rel="shortcut icon" href="/favicon.ico?v=1747460791"><link rel=apple-touch-icon sizes=180x180 href="/favicon/apple-touch-icon.png?v=1747460791"><link rel=icon type=image/png sizes=32x32 href="/favicon/favicon-32x32.png?v=1747460791"><link rel=icon type=image/png sizes=16x16 href="/favicon/favicon-16x16.png?v=1747460791"><link rel=manifest href="/favicon/manifest.json?v=1747460791"><meta name=apple-mobile-web-app-title content="Vorakl's notes"><meta name=application-name content="Vorakl's notes"></head> <body> <div class=navbar> <div class=navbar-inner> <div class=container> <a href=https://vorakl.com/ class=brand>Vorakl's notes</a> <div class=nav-collapse> <ul class="nav pull-right"> <!-- <li class="divider-vertical"></li> --> <li><a href=https://vorakl.com/pages/contacts/ >Contacts</a></li> <li><a href=https://vorakl.com/pages/about/ >About</a></li> <!-- <li class="divider-vertical"></li> --> </ul> </div> </div> </div> </div> <div class=container> <div class=content> <div class=row> <div class=span12> <div class=article> <div class=content-title> <h1>Availability calculation in &quot;nines&quot; notation</h1> <div class="well small">on 2024-02-18 in <a href=https://vorakl.com/categories/article/ >article</a> about <a href=https://vorakl.com/tags/sre/ >sre</a> ~4 min read </div> <p><h3 style="text-decoration-line: none">Estimating one of SRE's most common SLO</h3></p> </div> <div class=content><p><a class="reference internal" href=#summary>TLDR: quick summary of the article</a></p> <div class=line-block> <div class=line><br></div> </div> <p>The rapidly growing interest in clouds, distributed systems, microservice architecture, and service-oriented applications has led to the emergence of a new branch of computer systems engineering - <em>Site Reliability Engineering</em> (SRE). One of the primary goals of the SRE is to ensure that a service meets certain requirements for production readiness. Services are generally considered to be <em>production</em> when they can be trusted and relied upon. A service provider and the customers, who usually pay for a service, document a common understanding of trust in a <em>Service Level Agreement</em> (SLA). It contains all expectations in the form of <em>Service Level Objectives</em> (SLO) and penalties if these expectations are not met. SLOs are <strong>performance</strong> and <strong>availability</strong> goals for a production service, defined on an annual time scale. These are the system characteristics that are both the most valuable to customers and worth committing to keep them within the defined expectations. SLOs are carefully quantified using <em>Service Level Indicators</em> (SLI). SLIs are chosen specifically for SLOs as a measurable form of some properties. It can be a metric or a value derived from logs. SLIs are typically sampled over a much shorter periods of time, from tens of seconds to a few minutes, and then a mean or an average distribution is applied to obtain a value.</p> <div class=line-block> <div class=line><br></div> </div> <p><em>Site Reliability Engineers</em>, in turn, are responsible for ensuring that production services meet all target SLOs defined in the SLA. They do this by focusing on the reliability through a set of practices that are more or less standardized across the industry. Some of the most common practices include:</p> <ul class=simple> <li>Continuous monitoring of availability and performance characteristics;</li> <li>Troubleshooting failures and eliminating degradation issues;</li> <li>Improving overall stability and scalability through automation to keep all key metrics within expected ranges;</li> <li>Preparing for disaster recovery through continuous stress testing using the error budget, an agreed upon timeframe in which a service can be degraded or unavailable.</li> </ul> <div class=line-block> <div class=line><br></div> </div> <p>Performance SLOs are important goals, but they are only important if a service is available. Availability is so important that it's sometimes <em>mistakenly</em> considered the only SLA component. Finding the right SLI to measure availability can be challenging. It's service-specific and depends on a variety of factors, such as the underlying infrastructure, architecture, etc. In SLO form, availability is expressed as a percentage in what is called &quot;nines&quot; notation. For example, in the clouds, the most common availability SLO is 99.9%, which is called &quot;3-nines&quot;. However, you are unlikely to find it higher than 99.999%, or &quot;5-nines&quot;. The actual availability of a service in percent is basically calculated as the ratio of the time a service is available to the total uptime (which includes downtime) over the past year.</p> <div class=line-block> <div class=line><br></div> </div> <p>It is interesting that people who use the nines notation are actually referring to the time when a service is a sort of allowed to be down. This downtime, which is literally allowed by the SLA, forms what is called the <em>error budget</em>. While targeting 100% availability is hardly feasible, it turns out that from a practical point of view, it is more beneficial to commit to a lower availability. Even if all technical possibilities exist to provide more &quot;nines&quot;. At certain levels, services with a higher availability will not be noticed by the majority of customers, so it's probably not worth the effort. However, having some error budget opens the doors to experimentation and less stressful deployments of new product features.</p> <div class=line-block> <div class=line><br></div> </div> <p>It is also useful to know how to estimate a potential downtime, the amount of time when your system may be out of service. To do this, remember that the availability SLO is defined for one-year period. Therefore, <em>60s by 60m by 24h by 365d</em> gives us <em>31536000</em> seconds of a total uptime. Then, if the availability is &quot;five-nines&quot; (99.999%), then the downtime is 0.001%, or <cite>31536000 * 0.001% =&gt; 31536000 * 0.00001 = 315.36</cite> sec, which is about <em>5.256</em> minutes per year that the service can be down. A similar calculation for &quot;three-nines&quot; (99.9%) availability shows that the service can be down for <cite>31536000 * 0.001 = 31536</cite> seconds, or 525.6 minutes, or <em>8.76</em> hours per year.</p> <div class=line-block> <div class=line><br></div> </div> <div class=section id=summary> <h2>Summary</h2> <ul class=simple> <li><em>Site Reliability Engineering</em> (SRE) focuses on ensuring production services meet requirements for production readiness and can be trusted and relied upon.</li> <li>A <em>Service Level Agreement</em> (SLA) contains expectations in the form of <em>Service Level Objectives</em> (SLOs) and penalties if not met.</li> <li>SLOs define annual <em>performance</em> and <em>availability</em> goals for production services.</li> <li><em>Service Level Indicators</em> (SLIs) are metrics chosen to measure SLOs, sampled over short periods like seconds to minutes.</li> <li>SREs ensure services meet SLOs through standardized practices like monitoring, emergency response, and capacity planning.</li> <li>Availability is the most important SLA component and is expressed as percentages or &quot;nines&quot; denoting hours of annual downtime allowed.</li> <li>The 99.9% availability SLO allows 8.76 hours of annual downtime while 99.999% allows 5.256 minutes.</li> <li>Allowing some downtime forms an &quot;<em>error budget</em>&quot; even if 100% uptime is technically possible.</li> <li>Higher availability beyond a certain level may not be noticeable to most customers.</li> <li>Calculating allowed downtime involves determining the total seconds in a year and applying the percentage downtime allowed.</li> </ul> <!-- Links --> </div> </div> </div> <div class=article style="text-align: center; font-size: 1.1em; font-style: italic"> Found a <span style="color: red; font-weight: bold">bug</span> or <span style="color: red; font-weight: bold">typo</span>? Please, send me <a href=/pages/feedback/ >feedback</a> or submit a <a href=https://github.com/vorakl/vorakl.github.io/blob/master/src.docs/content/articles/availability.rst>PR on Github</a>. </div> <div class=article> <div class="well small"><h5>This is my personal blog. All ideas, opinions, examples, and other information that can be found here are my own and belong entirely to me. This is the result of my personal efforts and activities at my free time. It doesn't relate to any professional work I've done and doesn't have correlations with any companies I worked for, I'm currently working, or will work in the future.</h5></div> </div> </div> </div> </div> <footer> <div class=container> <div class=row> <div class=span5> <span class=pull-left> &copy; 2024 <a href=https://vorakl.com/pages/about/ >vorakl</a> All Rights Reserved </span> </div> <div class=span7> <div class=pull-right> Powered by <a href=https://github.com/getpelican/pelican>Pelican</a> and <a href=https://github.com/vorakl/aves>Aves</a> theme </div> </div> </div> </div> </footer> </div> </body> </html>